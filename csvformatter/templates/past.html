{% include 'header.html' %}

<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-2xl font-bold text-gray-800 mb-4">Saved CSV Files</h1>
        <ul class="bg-white rounded-lg border border-gray-200 w-full text-gray-900">
            {% for file in csv_files %}
                {% set filename_parts = file.split('_') %}
                {% set timestamp = filename_parts[1].split('.')[0] %}
                
                {% set formatted_date = timestamp[:4] + '-' + timestamp[4:6] + '-' + timestamp[6:8] + ' ' + timestamp[8:10] + ':' + timestamp[10:12] %}
                <li class="px-6 py-2 border-b border-gray-200 w-full rounded-t-lg">
                    <a href="/preview/{{ file }}" class="flex justify-between items-center p-4 hover:bg-gray-100">
                        <span>{{ file }}</span>
                        <span class="text-sm text-gray-600">{{ formatted_date }}</span>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
</body>

{% include 'footer.html' %}